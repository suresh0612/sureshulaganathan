<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="cf3970fb-2a86-40ba-9fb3-0cf0012d99d0" activeEnvironment="Default" name="REST Project Assessment" soapui-version="5.2.1" abortOnError="false" runType="SEQUENTIAL" resourceRoot="" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="e57802c4-cc7f-4a93-9d3b-0774f6c7b4d3" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="CTC_002" path="/api/rest/oauth2/token/client_credentials" id="1ea7745d-6074-4a23-adaf-e01fbd4c9c35"><con:settings/><con:parameters/><con:method name="Expired Access Token" id="0b0c8fc2-bf49-4d43-8c1f-584f62e416a0" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:cli="http://rest-api.upskills.in/api/rest/oauth2/token/client_credentials">cli:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:cli="http://rest-api.upskills.in/api/rest/oauth2/token/client_credentials">cli:Response</con:element></con:representation><con:request name="Bearer Token Creation" id="0851c136-0c19-4c5c-92e0-1f91b823658d" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic c2hvcHBpbmdfdXBza2lsbHNfb2F1dGhfY2xpZW50OnNob3BwaW5nX3Vwc2tpbGxzX29hdXRoX3NlY3JldA==" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
  "old_token": "db8da0586c299643d24aad2cc0ae3908ec39b21e"
}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest/oauth2/token/client_credentials</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="6403fcd9-1d86-4e08-aa69-8bf25be98d75" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Shopping-cart" path="api/rest/register" id="fcec394b-6dd0-436f-afce-b323df562b1d"><con:settings/><con:parameters/><con:method name="Register USer" id="dd165870-a5d0-4fcc-8198-3e48fe2e938e" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>401 400</con:status><con:params/><con:element xmlns:reg="http://rest-api.upskills.in/api/rest/register">reg:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:reg="http://rest-api.upskills.in/api/rest/register">reg:Response</con:element></con:representation><con:request name="CreateUser" id="70d23aa4-804a-4c4a-8d69-eb2d1cbb961d" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="bearer 2e579d2fd6ca9f9356ae59f77e0976556d79d99e" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
  "firstname": "Demo",
  "lastname": "User",
  "email": "testuser@gmail.com",
  "password": "pass@1234",
  "confirm": "pass@1234",
  "telephone": "1-541-754-3010",
  "customer_group_id": "1",
  "agree": "1",
  "custom_field": {
    "account": {
      "1": "+364545454"
    }
  }
}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest/register</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="2080bfae-49a6-4f74-a2b4-aff715ba4d60" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Shopping-cart" path="/api/rest/login" id="3e666489-94ea-40f9-8e9d-3da9301d0ec7"><con:settings/><con:parameters/><con:method name="Login1" id="c5d4e244-d283-43af-ae35-954a826a6622" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:log="http://rest-api.upskills.in/api/rest/login">log:Fault</con:element></con:representation><con:request name="Login User" id="35ee17c7-810a-488d-8ee9-6574abe089cd" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="bearer 2e579d2fd6ca9f9356ae59f77e0976556d79d99e" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
  "email": "testuser@gmail.com",
  "password": "pass@1234"
}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest/login</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="4c197925-a336-445d-bd5e-b52d74846809" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Shopping-cart" path="/api/rest/oauth2/token/client_credentials/" id="5f4fb29d-a7a7-4b4b-a10a-93ab5c8d261b"><con:settings/><con:parameters/><con:method name="Access Token" id="c558269c-9f97-4a16-9dcc-4f14a8c9bf64" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:cli="http://rest-api.upskills.in/api/rest/oauth2/token/client_credentials/">cli:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:request name="AccessToken" id="b753d9cd-7a90-4847-b068-5e7ea2bd5c14" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic c2hvcHBpbmdfdXBza2lsbHNfb2F1dGhfY2xpZW50OnNob3BwaW5nX3Vwc2tpbGxzX29hdXRoX3NlY3JldA==" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest/oauth2/token/client_credentials/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="51090b27-4aa2-499c-a383-457dec178a5c" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Shopping-cart" path="/api/rest/account/password" id="41d60c3e-b80b-4c4a-bedc-3f08740d5599"><con:settings/><con:parameters/><con:method name="Change Password" id="a3d1acfe-7348-47dd-aaae-fc93fb1ba47b" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:for="http://rest-api.upskills.in/api/rest/forgotten">for:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:for="http://rest-api.upskills.in/api/rest/forgotten">for:Response</con:element></con:representation><con:request name="Reset Password" id="c5db0840-61d6-42f0-bf44-8f2ed816400a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="bearer 2e579d2fd6ca9f9356ae59f77e0976556d79d99e" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
  "password": "testuser6@gmail.com",
  "confirm": "testuser6@gmail.com"
}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest/forgotten</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:testSuite id="df99cc2d-59f9-41ac-835e-bf1217bd0806" name="TestSuite 1"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="063d9969-18e3-4d83-8acf-3cd105487b2b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="getCustomerByIdMySql" searchProperties="true"><con:settings/><con:testStep type="groovy" name="getCustomerById_Mysql" id="10db85c5-bf54-481a-8956-760f77a57f41"><con:settings/><con:config><script>// Import the Groovy class required to work with SQL databases.
import groovy.sql.Sql

//GET 
log.info("=======================test started for get customer by Id from MySql=======================")

def accessToken = "91cf2a5a27d39a52698d5ebd701e105142f25778";

// Set up database connection properties.
def url = 'jdbc:mysql://localhost:3306/soapui' /* IMPORTANT: must start with jdbc:mysql:// */
def user = 'root'
def password = 'mypass'
def driver = 'com.mysql.jdbc.Driver'

// Register the MySQL JDBC driver – required for Groovy to send requests to the database.
com.eviware.soapui.support.GroovyUtils.registerJdbcDriver( driver )

// Connect to the SQL instance.
def sql = Sql.newInstance(url, user, password, driver)
def customerId
def uname
def pwd


sql.eachRow("select * from customer") {
         row -> 
         customerId = "$row.id";
         uname = "$row.username";
         pwd = "$row.password";
         log.info (customerId);
         log.info (uname);
         log.info pwd;
         log.info customerId.class 
         if (customerId == "3") {
         	testRunner.testcase.testSuite.setPropertyValue("username",uname)
         	testRunner.testcase.testSuite.setPropertyValue("password",pwd)
         }
	
        	def get = new URL("http://rest-api.upskills.in/api/rest_admin/customers/"+customerId).openConnection();
		get.setRequestProperty("Authorization", "Bearer "+ accessToken) 
		def getRC = get.getResponseCode();     
		log.info("res code is - "+getRC);     
		if(getRC.equals(200)) {   
			log.info(get.getInputStream().getText());     
		} else {
			log.info("Something went wrong");
		}
      }  

// Close the SQL instance.
sql.close()</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="1aac17e5-845f-47d5-adf1-1ad5e471f566" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="getAllCustomers" searchProperties="true"><con:settings/><con:testStep type="groovy" name="getAllCustomers" id="fade36ff-1ecc-4d70-b987-eab68c2a14f8"><con:settings/><con:config><script>import java.io.*

//GET REQUEST 
log.info("=======================test started for get All Customers=======================")

def accessToken = "dd3690aa4d323239946451e0528267408d51dba9";

def url = "http://rest-api.upskills.in/api/rest_admin/customers/limit/{limit}/page/{page}"  

def get = new URL(url).openConnection();
get.setRequestProperty("Authorization", "Bearer "+ accessToken)

def getRC = get.getResponseCode();     
	log.info("res code is - "+getRC);
	def name = "Ashok kumar"
     assert name == "Ashok kumar"    
	if(getRC.equals(200)) {   
		log.info(get.getInputStream().getText());     
	} else {
		log.info("Something went wrong");
	}</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="07ca3ca4-612d-4e4d-8bc0-b0df3848fcd4" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="getCustomerByIdExcel" searchProperties="true"><con:settings/><con:testStep type="groovy" name="getCustomerById_Excel" id="ce0d8a17-109e-48ed-93f7-3ded1c450fdc"><con:settings/><con:config><script>import java.io.* 
import jxl.* 
import jxl.write.* 
import java.text.SimpleDateFormat

//GET 
log.info("=======================test started for get customer by Id from Excel=======================") 

def accessToken = "dd3690aa4d323239946451e0528267408d51dba9";
def file=new File("C:\\Users\\SURESHULAGANATHAN\\Desktop\\GetCustomerByIdData.xls"); //97-2013 workbook xls 
def workBook= Workbook.getWorkbook(file) 
def workSheet=workBook.getSheet(0) 
rows=workSheet.getRows()	//max row number
log.info "Total row number - "+rows   

for(def i=1;i&lt;rows;i++) 
{     
	Cell c=workSheet.getCell(0,i)     
	log.info("customer Id " + c.getContents());          
	def get = new URL("http://rest-api.upskills.in/api/rest_admin/customers/"+c.getContents()).openConnection();
	get.setRequestProperty("Authorization", "Bearer "+ accessToken) 
	def getRC = get.getResponseCode();     
	log.info("res code is - "+getRC);     
	if(getRC.equals(200)) {   
		log.info(get.getInputStream().getText());     
	} else {
		log.info("Something went wrong");
	}
	
}  
</script></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>